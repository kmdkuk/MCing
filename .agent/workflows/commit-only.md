---
description: 現在のブランチにローカル変更をコミットのみ行う（プッシュなし）
---

# コミットのみ（現在のブランチ）

ローカルの変更をコミットだけ行います。プッシュやPR作成は行いません。

## 前提条件

- 変更済みファイルが存在すること
- コミットメッセージの具体的な書き方は、`.agent/rules/commit-message-format.md` などで定義された規約に従うこと

## 実行手順（対話なし）

1. 未コミット差分を確認し、コミットメッセージの内容を検討する（例：`git diff` や `git diff --cached`）
2. 変更のステージング（`git add -A`）
3. コミット（環境変数または引数でメッセージを渡す）

### A) 安全な一括実行（メッセージ引数版）

```bash
MSG="<Prefix>: <サマリ（命令形/簡潔に）>" \
git add -A && \
git commit -m "$MSG"
```

例：

```bash
MSG="fix: 不要なデバッグログ出力を削除" \
git add -A && \
git commit -m "$MSG"
```

### B) ステップ実行（読みやすさ重視）

```bash
# 1) 差分を確認
git status
git diff

# 2) 変更をステージング
git add -A

# 3) コミット（メッセージを編集）
git commit -m "<Prefix>: <サマリ（命令形/簡潔に）>"
```

## ノート

- コミットメッセージのフォーマットやメッセージ生成の原則は、`.agent/rules/commit-message-format.md` のルールに従ってください。
- ブランチ戦略（例：main 直コミット禁止、作業用ブランチ運用）やリモートへのプッシュ (`git push`) は、このコマンドの対象外です。必要に応じて、プロジェクトごとの README / CONTRIBUTING / 別コマンドで定義してください。

